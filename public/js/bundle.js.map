{"version":3,"file":"bundle.js","sources":["../../src/js/app.js"],"sourcesContent":[";(function () {\n  /**\n   * feature detection and helper functions\n   */\n  const document = window.document\n  const addEvent = (el, e, callback, capture) => el.addEventListener(e, callback, !!capture)\n\n  const removeEvent = (el, e, callback, capture) => el.removeEventListener(e, callback, !!capture)\n\n  const trim = str => (str.trim ? str.trim() : str.replace(/^\\s+|\\s+$/g, ''))\n\n  const hasClass = (el, cn) => (' ' + el.className + ' ').indexOf(' ' + cn + ' ') !== -1\n\n  const addClass = (el, cn) => {\n    if (!hasClass(el, cn)) el.className = el.className === '' ? cn : el.className + ' ' + cn\n  }\n\n  const removeClass = (el, cn) => {\n    el.className = trim((' ' + el.className + ' ').replace(' ' + cn + ' ', ' '))\n  }\n\n  const isArray = obj => /Array/.test(Object.prototype.toString.call(obj))\n\n  const isDate = obj => /Date/.test(Object.prototype.toString.call(obj)) && !isNaN(obj.getTime())\n\n  const zeroPadding = num => ('0' + num).slice(-2)\n\n  const isWeekend = date => {\n    const day = date.getDay()\n    return day === 0 || day === 6\n  }\n\n  const prevAll = element => {\n    let result = []\n    while ((element = element.previousElementSibling) !== null) result.push(element)\n    return result\n  }\n\n  const getClosest = (el, selector) => {\n    const matchesSelector = el.matches || el.webkitMatchesSelector || el.mozMatchesSelector || el.msMatchesSelector\n\n    while (el) {\n      if (matchesSelector.call(el, selector)) {\n        break\n      }\n      el = el.parentElement\n    }\n    return el\n  }\n\n  const isLeapYear = year => (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0\n\n  const getDaysInMonth = (year, month) => [31, isLeapYear(year) ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month]\n\n  const setToStartOfDay = date => {\n    if (isDate(date)) date.setHours(0, 0, 0, 0)\n  }\n\n  const compareDates = (a, b) => a.getTime() === b.getTime()\n\n  const extend = (to, from, overwrite) => {\n    let prop\n    let hasProp\n\n    for (prop in from) {\n      hasProp = to[prop] !== undefined\n      if (hasProp && typeof from[prop] === 'object' && from[prop] !== null && from[prop].nodeName === undefined) {\n        if (isDate(from[prop])) {\n          if (overwrite) {\n            to[prop] = new Date(from[prop].getTime())\n          }\n        } else if (isArray(from[prop])) {\n          if (overwrite) {\n            to[prop] = from[prop].slice(0)\n          }\n        } else {\n          to[prop] = extend({}, from[prop], overwrite)\n        }\n      } else if (overwrite || !hasProp) {\n        to[prop] = from[prop]\n      }\n    }\n    return to\n  }\n\n  const fireEvent = (el, eventName, data) => {\n    let ev\n\n    if (document.createEvent) {\n      ev = document.createEvent('HTMLEvents')\n      ev.initEvent(eventName, true, false)\n      ev = extend(ev, data)\n      el.dispatchEvent(ev)\n    } else if (document.createEventObject) {\n      ev = document.createEventObject()\n      ev = extend(ev, data)\n      el.fireEvent('on' + eventName, ev)\n    }\n  }\n\n  const adjustCalendar = calendar => {\n    if (calendar.month < 0) {\n      calendar.year -= Math.ceil(Math.abs(calendar.month) / 12)\n      calendar.month += 12\n    }\n    if (calendar.month > 11) {\n      calendar.year += Math.floor(Math.abs(calendar.month) / 12)\n      calendar.month -= 12\n    }\n    return calendar\n  }\n\n  /**\n   * defaults and localisation\n   */\n  const defaults = {\n    // bind the picker to a form field\n    field: null,\n\n    // automatically show/hide the picker on `field` focus (default `true` if `field` is set)\n    bound: undefined,\n\n    // position of the datepicker, relative to the field (default to bottom & left)\n    // ('bottom' & 'left' keywords are not used, 'top' & 'right' are modifier on the bottom/left position)\n    position: 'bottom left',\n\n    // automatically fit in the viewport even if it means repositioning from the position option\n    reposition: true,\n\n    // used to create date object from current input string\n    parse: null,\n\n    // the initial date to view when first opened\n    defaultDate: null,\n\n    // make the `defaultDate` the initial selected value\n    setDefaultDate: false,\n\n    // first day of week (0: Sunday, 1: Monday etc)\n    firstDay: 0,\n\n    // the default flag for moment's strict date parsing\n    formatStrict: false,\n\n    // the minimum/earliest date that can be selected\n    minDate: null,\n    // the maximum/latest date that can be selected\n    maxDate: null,\n\n    // number of years either side, or array of upper/lower range\n    yearRange: 10,\n\n    // show week numbers at head of row\n    showWeekNumber: false,\n\n    // Week picker mode\n    pickWholeWeek: false,\n\n    // used internally (don't config outside)\n    minYear: 0,\n    maxYear: 9999,\n    minMonth: undefined,\n    maxMonth: undefined,\n\n    startRange: null,\n    endRange: null,\n\n    isRTL: false,\n\n    // Additional text to append to the year in the calendar title\n    yearSuffix: '',\n\n    // Render the month after year in the calendar title\n    showMonthAfterYear: false,\n\n    // Render days of the calendar grid that fall in the next or previous month\n    showDaysInNextAndPreviousMonths: false,\n\n    // Allows user to select days that fall in the next or previous month\n    enableSelectionDaysInNextAndPreviousMonths: false,\n\n    // how many months are visible\n    numberOfMonths: 1,\n\n    // when numberOfMonths is used, this will help you to choose where the main calendar will be (default `left`, can be set to `right`)\n    // only used for the first display or when a selected date is not visible\n    mainCalendar: 'left',\n\n    // Specify a DOM element to render the calendar in\n    container: undefined,\n\n    // Blur field when date is selected\n    blurFieldOnSelect: true,\n\n    // internationalization\n    i18n: {\n      previousMonth: 'Prev Month',\n      nextMonth: 'Next Month',\n      months: ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12'],\n      weekdays: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\n      weekdaysShort: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat']\n    },\n\n    // Theme Classname\n    theme: null,\n\n    // events array\n    events: [],\n\n    rangeSelect: false,\n\n    // callback function\n    onSelect: null,\n    onOpen: null,\n    onClose: null,\n    onDraw: null\n  }\n\n  /**\n   * templating functions to abstract HTML rendering\n   */\n  const renderDayName = (opts, day, abbr) => {\n    day += opts.firstDay\n    while (day >= 7) {\n      day -= 7\n    }\n    return abbr ? opts.i18n.weekdaysShort[day] : opts.i18n.weekdays[day]\n  }\n\n  const renderDay = opts => {\n    let arr = []\n    let ariaSelected = 'false'\n    if (opts.isEmpty) {\n      if (opts.showDaysInNextAndPreviousMonths) {\n        arr.push('is-outside-current-month')\n\n        if (!opts.enableSelectionDaysInNextAndPreviousMonths) {\n          arr.push('is-selection-disabled')\n        }\n      } else {\n        return '<td class=\"is-empty\"></td>'\n      }\n    }\n    if (opts.isDisabled) arr.push('is-disabled')\n\n    if (opts.isToday) arr.push('is-today')\n\n    if (opts.isSelected) {\n      arr.push('is-selected')\n      ariaSelected = 'true'\n    }\n    if (opts.hasEvent) arr.push('has-event')\n\n    if (opts.isInRange) arr.push('is-inrange')\n\n    if (opts.isStartRange) arr.push('is-startrange')\n\n    if (opts.isEndRange) arr.push('is-endrange')\n\n    return (\n      '<td data-day=\"' +\n      opts.day +\n      '\" class=\"' +\n      arr.join(' ') +\n      '\" aria-selected=\"' +\n      ariaSelected +\n      '\">' +\n      '<button class=\"datepicker__button datepicker__day\" type=\"button\" ' +\n      'data-datepicker-year=\"' +\n      opts.year +\n      '\" data-datepicker-month=\"' +\n      opts.month +\n      '\" data-datepicker-day=\"' +\n      opts.day +\n      '\">' +\n      opts.day +\n      '</button>' +\n      '</td>'\n    )\n  }\n\n  const renderWeek = (d, m, y) => {\n    const onejan = new Date(y, 0, 1)\n    const weekNum = Math.ceil(((new Date(y, m, d) - onejan) / 86400000 + onejan.getDay() + 1) / 7)\n    return '<td class=\"datepicker__week\">' + weekNum + '</td>'\n  }\n\n  const renderRow = (days, isRTL, pickWholeWeek, isRowSelected) =>\n    '<tr class=\"datepicker__row' +\n    (pickWholeWeek ? ' pick-whole-week' : '') +\n    (isRowSelected ? ' is-selected' : '') +\n    '\">' +\n    (isRTL ? days.reverse() : days).join('') +\n    '</tr>'\n\n  const renderBody = rows => '<tbody>' + rows.join('') + '</tbody>'\n\n  const renderHead = opts => {\n    let i\n    let arr = []\n    if (opts.showWeekNumber) {\n      arr.push('<th></th>')\n    }\n    for (i = 0; i < 7; i++) {\n      arr.push('<th scope=\"col\"><abbr title=\"' + renderDayName(opts, i) + '\">' + renderDayName(opts, i, true) + '</abbr></th>')\n    }\n    return '<thead><tr>' + (opts.isRTL ? arr.reverse() : arr).join('') + '</tr></thead>'\n  }\n\n  const renderTitle = (instance, c, year, month, refYear, randId) => {\n    let i\n    let j\n    let arr\n    const opts = instance._o\n    const isMinYear = year === opts.minYear\n    const isMaxYear = year === opts.maxYear\n    let html = '<div id=\"' + randId + '\" class=\"datepicker__title\" role=\"heading\" aria-live=\"assertive\">'\n\n    let prev = true\n    let next = true\n\n    for (arr = [], i = 0; i < 12; i++) {\n      arr.push(\n        '<option value=\"' +\n          (year === refYear ? i - c : 12 + i - c) +\n          '\"' +\n          (i === month ? ' selected=\"selected\"' : '') +\n          ((isMinYear && i < opts.minMonth) || (isMaxYear && i > opts.maxMonth) ? 'disabled=\"disabled\"' : '') +\n          '>' +\n          opts.i18n.months[i] +\n          '</option>'\n      )\n    }\n\n    const monthHtml =\n      '<div class=\"datepicker__label\">' +\n      opts.i18n.months[month] +\n      '<select class=\"datepicker__select datepicker__select-month\" tabindex=\"-1\">' +\n      arr.join('') +\n      '</select></div>'\n\n    if (isArray(opts.yearRange)) {\n      i = opts.yearRange[0]\n      j = opts.yearRange[1] + 1\n    } else {\n      i = year - opts.yearRange\n      j = 1 + year + opts.yearRange\n    }\n\n    for (arr = []; i < j && i <= opts.maxYear; i++) {\n      if (i >= opts.minYear) arr.push('<option value=\"' + i + '\"' + (i === year ? ' selected=\"selected\"' : '') + '>' + i + '</option>')\n    }\n    const yearHtml =\n      '<div class=\"datepicker__label\">' +\n      year +\n      opts.yearSuffix +\n      '<select class=\"datepicker__select datepicker__select-year\" tabindex=\"-1\">' +\n      arr.join('') +\n      '</select></div>'\n\n    if (opts.showMonthAfterYear) {\n      html += yearHtml + monthHtml\n    } else {\n      html += monthHtml + yearHtml\n    }\n\n    if (isMinYear && (month === 0 || opts.minMonth >= month)) prev = false\n\n    if (isMaxYear && (month === 11 || opts.maxMonth <= month)) next = false\n\n    if (c === 0) {\n      html += '<button class=\"datepicker__prev' + (prev ? '' : ' is-disabled') + '\" type=\"button\">' + opts.i18n.previousMonth + '</button>'\n    }\n    if (c === instance._o.numberOfMonths - 1) {\n      html += '<button class=\"datepicker__next' + (next ? '' : ' is-disabled') + '\" type=\"button\">' + opts.i18n.nextMonth + '</button>'\n    }\n\n    html += '</div>'\n\n    return html\n  }\n\n  const renderTable = (opts, data, randId) =>\n    '<table cellpadding=\"0\" cellspacing=\"0\" class=\"datepicker__table\" role=\"grid\" aria-labelledby=\"' +\n    randId +\n    '\">' +\n    renderHead(opts) +\n    renderBody(data) +\n    '</table>'\n\n  /**\n   * PlainPicker constructor\n   */\n  const PlainPicker = function (options) {\n    const self = this\n    const opts = self.config(options)\n\n    const defOptsMinDate = opts.minDate\n    self.dateRangeArr = []\n    self.dateRangeSelectedArr = []\n\n    self._onMouseDown = e => {\n      if (!self._v) return\n\n      e = e || window.event\n      const target = e.target || e.srcElement\n      if (!target) return\n\n      if (!hasClass(target, 'is-disabled')) {\n        if (hasClass(target, 'datepicker__button') && !hasClass(target, 'is-empty') && !hasClass(target.parentNode, 'is-disabled')) {\n          if (opts.bound) {\n            setTimeout(() => {\n              if (opts.rangeSelect) { // selectable date range on single calendar\n                let selectedDate = new Date(\n                  target.getAttribute('data-datepicker-year'),\n                  target.getAttribute('data-datepicker-month'),\n                  target.getAttribute('data-datepicker-day')\n                )\n\n                addClass(target, 'datepicker__button--started')\n\n                self.setMinDate(selectedDate)\n\n                // Up to two selectable\n                if (self.dateRangeArr.length > 1) {\n                  self.dateRangeArr = []\n                }\n                self.dateRangeArr.push(selectedDate)\n\n                self.dateRangeArr.forEach(function (e) {\n                  self.setDate(e)\n                })\n\n                if (self.dateRangeArr.length > 1) {\n                  self.hide()\n                  self.setMinDate(defOptsMinDate)\n                }\n                if (opts.blurFieldOnSelect && opts.field) {\n                  opts.field.blur()\n                }\n              } else {\n                self.setDate(\n                  new Date(\n                    target.getAttribute('data-datepicker-year'),\n                    target.getAttribute('data-datepicker-month'),\n                    target.getAttribute('data-datepicker-day')\n                  )\n                )\n                self.hide()\n                if (opts.blurFieldOnSelect && opts.field) {\n                  opts.field.blur()\n                }\n              }\n            }, 100)\n          }\n        } else if (hasClass(target, 'datepicker__prev')) {\n          self.prevMonth()\n        } else if (hasClass(target, 'datepicker__next')) {\n          self.nextMonth()\n        }\n      }\n      if (!hasClass(target, 'datepicker__select')) {\n        if (e.preventDefault) {\n          e.preventDefault()\n        } else {\n          e.returnValue = false\n          return false\n        }\n      } else {\n        self._c = true\n      }\n    }\n\n    self._onMouseOver = e => {\n      e = e || window.event\n      const target = e.target || e.srcElement\n\n      if (!target || !opts.rangeSelect) return\n\n      if (hasClass(target, 'datepicker__button') && !hasClass(target, 'is-empty') && !hasClass(target.parentNode, 'is-disabled') && self.dateRangeArr.length > 0) {\n        let targetParentsTr = getClosest(target, 'tr')\n        addClass(targetParentsTr, 'hoveredWeek')\n\n        let lastTargetPicker = getClosest(targetParentsTr, '.datepicker__lendar__last')\n        let parentDatePicker\n\n        if (lastTargetPicker !== null) {\n          parentDatePicker = lastTargetPicker.parentNode\n          let tableOfFirst = parentDatePicker.children[0]\n          let trsOfFirstTable = tableOfFirst.getElementsByTagName('tr')\n          let lastTrOfFirstTable = trsOfFirstTable[trsOfFirstTable.length - 1]\n          addClass(lastTrOfFirstTable, 'hoveredOtherTable')\n        }\n\n        let hoveredOtherTable = document.getElementsByClassName('hoveredOtherTable')\n\n        Array.prototype.forEach.call(hoveredOtherTable, function (node) {\n          let inRange = node.querySelectorAll('td:not(.is-disabled)')\n\n          Array.prototype.forEach.call(inRange, function (nodeChildren) {\n            addClass(nodeChildren, 'in-range')\n          })\n\n          Array.prototype.forEach.call(prevAll(node), function (nodeChildren) {\n            let tdsPrevLastWeek = nodeChildren.querySelectorAll('td:not(.is-disabled)')\n            Array.prototype.forEach.call(tdsPrevLastWeek, function (el) {\n              addClass(el, 'in-range')\n            })\n          })\n        })\n\n        Array.prototype.forEach.call(prevAll(targetParentsTr), function (node) {\n          let inRange = node.querySelectorAll('td:not(.is-disabled)')\n          Array.prototype.forEach.call(inRange, function (nodeChildren) {\n            addClass(nodeChildren, 'in-range')\n          })\n        })\n\n        Array.prototype.forEach.call(prevAll(target.parentNode), function (node) {\n          if (!hasClass(node, 'is-disabled')) addClass(node, 'in-range')\n        })\n      }\n    }\n\n    self._onMouseLeave = e => {\n      e = e || window.event\n      const target = e.target || e.srcElement\n\n      if (!target || !opts.rangeSelect) return\n\n      if (hasClass(target, 'datepicker__button') && !hasClass(target, 'is-empty') && !hasClass(target.parentNode, 'is-disabled') && self.dateRangeArr.length > 0) {\n        let targetParentsTr = getClosest(target, 'tr')\n        removeClass(targetParentsTr, 'hoveredWeek')\n\n        let parentDatePicker = getClosest(target, '.datepicker')\n        Array.prototype.forEach.call(parentDatePicker.getElementsByTagName('td'), function (node) {\n          removeClass(node, 'in-range')\n        })\n\n        Array.prototype.forEach.call(document.getElementsByClassName('hoveredOtherTable'), function (node) {\n          removeClass(node, 'hoveredOtherTable')\n        })\n      }\n    }\n\n    // <select>\n    self._onChange = e => {\n      e = e || window.event\n      const target = e.target || e.srcElement\n\n      if (!target) return\n\n      if (hasClass(target, 'datepicker__select-month')) {\n        self.gotoMonth(target.value)\n      } else if (hasClass(target, 'datepicker__select-year')) {\n        self.gotoYear(target.value)\n      }\n    }\n\n    self._onKeyChange = e => {\n      e = e || window.event\n\n      const captureKey = () => {\n        self.hasKey = true\n        stopEvent()\n      }\n\n      const stopEvent = () => {\n        e.preventDefault()\n        e.stopPropagation()\n      }\n\n      if (self.isVisible()) {\n        switch (e.keyCode) {\n          case 9: // tab\n            if (self.hasKey && self._o.trigger) {\n              self._o.trigger.focus()\n              self.hasKey = false\n            }\n            break\n          case 32: // space\n          case 13: // enter\n\n            if (opts.rangeSelect) { // selectable date range on single calendar\n              let selectedDate = self._d\n\n              self.setMinDate(selectedDate)\n\n              // Up to two selectable\n              if (self.dateRangeArr.length > 1) {\n                self.dateRangeArr = []\n              }\n              self.dateRangeArr.push(selectedDate)\n\n              self.dateRangeArr.forEach(function (e) {\n                self.setDate(e)\n              })\n\n              if (self.dateRangeArr.length > 1) {\n                self.hide()\n                self.setMinDate(defOptsMinDate)\n              }\n              if (opts.blurFieldOnSelect && opts.field) {\n                opts.field.blur()\n              }\n            } else {\n              if (self.hasKey && !opts.container) {\n                stopEvent()\n                if (self._o.trigger) {\n                  self._o.trigger.focus()\n                  try {\n                    self._o.trigger.select()\n                  } catch (e) {} // trigger could be a button\n                }\n                self.hide()\n              }\n            }\n            break\n          case 27: // esc\n            if (!opts.container) {\n              stopEvent()\n              self.cancel()\n            }\n            break\n          case 37: // ←\n            captureKey()\n            self.adjustDate('subtract', 1)\n            break\n          case 38: // ↑\n            captureKey()\n            self.adjustDate('subtract', 7)\n            break\n          case 39: // →\n            captureKey()\n            self.adjustDate('add', 1)\n            break\n          case 40: // ↓\n            captureKey()\n            self.adjustDate('add', 7)\n            break\n        }\n      }\n    }\n\n    self._onInputChange = e => {\n      let date\n\n      if (e.firedBy === self) return\n\n      if (opts.parse) {\n        date = opts.parse(opts.field.value, opts.format)\n      } else {\n        date = new Date(Date.parse(opts.field.value))\n      }\n\n      if (isDate(date)) self.setDate(date)\n      if (!self._v) self.show()\n    }\n\n    self._onInputFocus = () => {\n      self.show()\n    }\n\n    self._onInputClick = () => {\n      self.show()\n    }\n\n    self._onInputBlur = () => {\n      let pEl = document.activeElement\n      do {\n        if (hasClass(pEl, 'datepicker')) {\n          return\n        }\n      } while ((pEl = pEl.parentNode))\n\n      if (!self._c) {\n        self._b = setTimeout(() => {\n          self.hide()\n        }, 50)\n      }\n      self._c = false\n    }\n\n    self._onClick = e => {\n      e = e || window.event\n      const target = e.target || e.srcElement\n      let pEl = target\n\n      if (!target) return\n      do {\n        if (hasClass(pEl, 'datepicker') || pEl === opts.trigger) {\n          return\n        }\n      } while ((pEl = pEl.parentNode))\n      if (self._v && target !== opts.trigger && pEl !== opts.trigger) self.hide()\n    }\n\n    self.el = document.createElement('div')\n    self.el.className = 'datepicker' + (opts.isRTL ? ' is-rtl' : '') + (opts.theme ? ' ' + opts.theme : '')\n\n    addEvent(self.el, 'mousedown', self._onMouseDown, true)\n    addEvent(self.el, 'mouseover', self._onMouseOver, true)\n    addEvent(self.el, 'mouseleave', self._onMouseLeave, true)\n    addEvent(self.el, 'touchend', self._onMouseDown, true)\n    addEvent(self.el, 'change', self._onChange)\n    addEvent(document, 'keydown', self._onKeyChange)\n\n    if (opts.field) {\n      if (opts.container) {\n        opts.container.appendChild(self.el)\n      } else if (opts.bound) {\n        document.body.appendChild(self.el)\n      } else {\n        opts.field.parentNode.insertBefore(self.el, opts.field.nextSibling)\n      }\n      addEvent(opts.field, 'change', self._onInputChange)\n\n      if (!opts.defaultDate) {\n        opts.defaultDate = new Date(Date.parse(opts.field.value))\n        opts.setDefaultDate = true\n      }\n    }\n\n    const defDate = opts.defaultDate\n\n    if (isDate(defDate)) {\n      if (opts.setDefaultDate) {\n        self.setDate(defDate, true)\n      } else {\n        self.gotoDate(defDate)\n      }\n    } else {\n      self.gotoDate(new Date())\n    }\n\n    if (opts.bound) {\n      this.hide()\n      self.el.className += ' is-bound'\n      addEvent(opts.trigger, 'click', self._onInputClick)\n      addEvent(opts.trigger, 'focus', self._onInputFocus)\n      addEvent(opts.trigger, 'blur', self._onInputBlur)\n    } else {\n      this.show()\n    }\n  }\n\n  /**\n   * public PlainPicker API\n   */\n  PlainPicker.prototype = {\n    /**\n     * configure functionality\n     */\n    config: function (options) {\n      if (!this._o) this._o = extend({}, defaults, true)\n\n      const opts = extend(this._o, options, true)\n\n      opts.isRTL = !!opts.isRTL\n\n      opts.field = opts.field && opts.field.nodeName ? opts.field : null\n\n      opts.theme = typeof opts.theme === 'string' && opts.theme ? opts.theme : null\n\n      opts.bound = !!(opts.bound !== undefined ? opts.field && opts.bound : opts.field)\n\n      opts.trigger = opts.trigger && opts.trigger.nodeName ? opts.trigger : opts.field\n\n      opts.disableWeekends = !!opts.disableWeekends\n\n      opts.disableDayFn = typeof opts.disableDayFn === 'function' ? opts.disableDayFn : null\n\n      const nom = parseInt(opts.numberOfMonths, 10) || 1\n      opts.numberOfMonths = nom > 4 ? 4 : nom\n\n      if (!isDate(opts.minDate)) opts.minDate = false\n\n      if (!isDate(opts.maxDate)) opts.maxDate = false\n\n      if (opts.minDate && opts.maxDate && opts.maxDate < opts.minDate) opts.maxDate = opts.minDate = false\n\n      if (opts.minDate) this.setMinDate(opts.minDate)\n\n      if (opts.maxDate) this.setMaxDate(opts.maxDate)\n\n      if (isArray(opts.yearRange)) {\n        const fallback = new Date().getFullYear() - 10\n        opts.yearRange[0] = parseInt(opts.yearRange[0], 10) || fallback\n        opts.yearRange[1] = parseInt(opts.yearRange[1], 10) || fallback\n      } else {\n        opts.yearRange = Math.abs(parseInt(opts.yearRange, 10)) || defaults.yearRange\n        if (opts.yearRange > 100) {\n          opts.yearRange = 100\n        }\n      }\n\n      return opts\n    },\n\n    /**\n     * return a Date object of the current selection\n     */\n    getDate: function () {\n      return isDate(this._d) ? new Date(this._d.getTime()) : null\n    },\n\n    /**\n     * set the current selection\n     */\n    setDate: function (date, preventOnSelect) {\n      const self = this\n\n      if (!date) {\n        self._d = null\n\n        if (this._o.field) {\n          self._o.field.value = ''\n          fireEvent(self._o.field, 'change', {\n            firedBy: self\n          })\n        }\n\n        return self.draw()\n      }\n\n      if (typeof date === 'string') date = new Date(Date.parse(date))\n\n      if (!isDate(date)) return\n\n      const min = self._o.minDate\n      const max = self._o.maxDate\n\n      if (isDate(min) && date < min) {\n        date = min\n      } else if (isDate(max) && date > max) {\n        date = max\n      }\n\n      self._d = new Date(date.getTime())\n      setToStartOfDay(self._d)\n      self.gotoDate(self._d)\n\n      if (self._o.field) {\n        if (self._o.rangeSelect) {\n          let superArr = []\n\n          self.dateRangeArr.forEach(function (e) {\n            let yyyy = e.getFullYear()\n            let mm = zeroPadding(e.getMonth() + 1)\n            let dd = zeroPadding(e.getDate())\n            let yyyymmdd = yyyy + '/' + mm + '/' + dd\n            superArr.push(yyyymmdd)\n          })\n\n          self._o.field.value = superArr.join(' - ')\n        } else {\n          let yyyy = self._d.getFullYear()\n          let mm = zeroPadding(self._d.getMonth() + 1)\n          let dd = zeroPadding(self._d.getDate())\n          let yyyymmdd = yyyy + '/' + mm + '/' + dd\n          self._o.field.value = yyyymmdd\n        }\n        fireEvent(self._o.field, 'change', {\n          firedBy: self\n        })\n      }\n\n      if (!preventOnSelect && typeof self._o.onSelect === 'function') {\n        self._o.onSelect.call(self, self.getDate())\n      }\n    },\n\n    /**\n     * change view to a specific date\n     */\n    gotoDate: function (date) {\n      let newCalendar = true\n\n      if (!isDate(date)) return\n\n      if (this.calendars) {\n        const firstVisibleDate = new Date(this.calendars[0].year, this.calendars[0].month, 1)\n        const lastVisibleDate = new Date(this.calendars[this.calendars.length - 1].year, this.calendars[this.calendars.length - 1].month, 1)\n        const visibleDate = date.getTime()\n        // get the end of the month\n        lastVisibleDate.setMonth(lastVisibleDate.getMonth() + 1)\n        lastVisibleDate.setDate(lastVisibleDate.getDate() - 1)\n        newCalendar = visibleDate < firstVisibleDate.getTime() || lastVisibleDate.getTime() < visibleDate\n      }\n\n      if (newCalendar) {\n        this.calendars = [\n          {\n            month: date.getMonth(),\n            year: date.getFullYear()\n          }\n        ]\n        if (this._o.mainCalendar === 'right') {\n          this.calendars[0].month += 1 - this._o.numberOfMonths\n        }\n      }\n\n      this.adjustCalendars()\n    },\n\n    adjustDate: function (sign, days) {\n      const day = this.getDate() || new Date()\n      const difference = parseInt(days) * 24 * 60 * 60 * 1000\n\n      let newDay\n\n      if (sign === 'add') {\n        newDay = new Date(day.valueOf() + difference)\n      } else if (sign === 'subtract') {\n        newDay = new Date(day.valueOf() - difference)\n      }\n\n      this.setDate(newDay)\n    },\n\n    adjustCalendars: function () {\n      let c\n\n      this.calendars[0] = adjustCalendar(this.calendars[0])\n      for (c = 1; c < this._o.numberOfMonths; c++) {\n        this.calendars[c] = adjustCalendar({\n          month: this.calendars[0].month + c,\n          year: this.calendars[0].year\n        })\n      }\n      this.draw()\n    },\n\n    gotoToday: function () {\n      this.gotoDate(new Date())\n    },\n\n    /**\n     * change view to a specific month (zero-index, e.g. 0: January)\n     */\n    gotoMonth: function (month) {\n      if (!isNaN(month)) {\n        this.calendars[0].month = parseInt(month, 10)\n        this.adjustCalendars()\n      }\n    },\n\n    nextMonth: function () {\n      this.calendars[0].month++\n      this.adjustCalendars()\n    },\n\n    prevMonth: function () {\n      this.calendars[0].month--\n      this.adjustCalendars()\n    },\n\n    /**\n     * change view to a specific full year (\"yyyy\")\n     */\n    gotoYear: function (year) {\n      if (!isNaN(year)) {\n        this.calendars[0].year = parseInt(year, 10)\n        this.adjustCalendars()\n      }\n    },\n\n    /**\n     * change the minDate\n     */\n    setMinDate: function (value) {\n      if (value instanceof Date) {\n        setToStartOfDay(value)\n        this._o.minDate = value\n        this._o.minYear = value.getFullYear()\n        this._o.minMonth = value.getMonth()\n      } else {\n        this._o.minDate = defaults.minDate\n        this._o.minYear = defaults.minYear\n        this._o.minMonth = defaults.minMonth\n        this._o.startRange = defaults.startRange\n      }\n\n      this.draw()\n    },\n\n    /**\n     * change the maxDate\n     */\n    setMaxDate: function (value) {\n      if (value instanceof Date) {\n        setToStartOfDay(value)\n        this._o.maxDate = value\n        this._o.maxYear = value.getFullYear()\n        this._o.maxMonth = value.getMonth()\n      } else {\n        this._o.maxDate = defaults.maxDate\n        this._o.maxYear = defaults.maxYear\n        this._o.maxMonth = defaults.maxMonth\n        this._o.endRange = defaults.endRange\n      }\n\n      this.draw()\n    },\n\n    setStartRange: function (value) {\n      this._o.startRange = value\n    },\n\n    setEndRange: function (value) {\n      this._o.endRange = value\n    },\n\n    /**\n     * refresh the HTML\n     */\n    draw: function (force) {\n      if (!this._v && !force) {\n        return\n      }\n\n      const opts = this._o\n      const minYear = opts.minYear\n      const maxYear = opts.maxYear\n      const minMonth = opts.minMonth\n      const maxMonth = opts.maxMonth\n      let html = ''\n      let randId\n\n      if (this._y <= minYear) {\n        this._y = minYear\n        if (!isNaN(minMonth) && this._m < minMonth) {\n          this._m = minMonth\n        }\n      }\n      if (this._y >= maxYear) {\n        this._y = maxYear\n        if (!isNaN(maxMonth) && this._m > maxMonth) {\n          this._m = maxMonth\n        }\n      }\n\n      randId = 'datepicker__title-' + Math.random().toString(36).replace(/[^a-z]+/g, '').substr(0, 2)\n\n      let c, positionStr\n      for (c = 0; c < opts.numberOfMonths; c++) {\n        if (c === 0) {\n          positionStr = ' datepicker__lendar__first'\n        } else if (c === opts.numberOfMonths - 1) {\n          positionStr = ' datepicker__lendar__last'\n        } else {\n          positionStr = ''\n        }\n        if (opts.numberOfMonths === 1) positionStr = ''\n\n        html +=\n          '<div class=\"datepicker__lendar' + positionStr + '\">' +\n            renderTitle(this, c, this.calendars[c].year, this.calendars[c].month, this.calendars[0].year, randId) +\n            this.render(this.calendars[c].year, this.calendars[c].month, randId) +\n          '</div>'\n      }\n\n      this.el.innerHTML = html\n\n      if (opts.bound) {\n        if (opts.field.type !== 'hidden') {\n          setTimeout(() => {\n            opts.trigger.focus()\n          }, 1)\n        }\n      }\n\n      if (typeof this._o.onDraw === 'function') {\n        this._o.onDraw(this)\n      }\n\n      if (opts.bound) {\n        opts.field.setAttribute('aria-label', 'Use the arrow keys to pick a date')\n      }\n    },\n\n    adjustPosition: function () {\n      if (this._o.container) return\n\n      this.el.style.position = 'absolute'\n\n      const field = this._o.trigger\n      let pEl = field\n      const width = this.el.offsetWidth\n      const height = this.el.offsetHeight\n      const viewportWidth = window.innerWidth || document.documentElement.clientWidth\n      const viewportHeight = window.innerHeight || document.documentElement.clientHeight\n      const scrollTop = window.pageYOffset || document.body.scrollTop || document.documentElement.scrollTop\n      let left\n      let top\n\n      if (typeof field.getBoundingClientRect === 'function') {\n        const clientRect = field.getBoundingClientRect()\n        left = clientRect.left + window.pageXOffset\n        top = clientRect.bottom + window.pageYOffset\n      } else {\n        left = pEl.offsetLeft\n        top = pEl.offsetTop + pEl.offsetHeight\n        while ((pEl = pEl.offsetParent)) {\n          left += pEl.offsetLeft\n          top += pEl.offsetTop\n        }\n      }\n\n      // default position is bottom & left\n      if (\n        (this._o.reposition && left + width > viewportWidth) ||\n        (this._o.position.indexOf('right') > -1 && left - width + field.offsetWidth > 0)\n      ) {\n        left = left - width + field.offsetWidth\n      }\n      if (\n        (this._o.reposition && top + height > viewportHeight + scrollTop) ||\n        (this._o.position.indexOf('top') > -1 && top - height - field.offsetHeight > 0)\n      ) {\n        top = top - height - field.offsetHeight\n      }\n\n      this.el.style.left = left + 'px'\n      this.el.style.top = top + 'px'\n    },\n\n    /**\n     * render HTML for a particular month\n     */\n    render: function (year, month, randId) {\n      const opts = this._o\n      const now = new Date()\n      const days = getDaysInMonth(year, month)\n      let before = new Date(year, month, 1).getDay()\n      let data = []\n      let row = []\n\n      setToStartOfDay(now)\n\n      if (opts.firstDay > 0) {\n        before -= opts.firstDay\n        if (before < 0) {\n          before += 7\n        }\n      }\n\n      const previousMonth = month === 0 ? 11 : month - 1\n      const nextMonth = month === 11 ? 0 : month + 1\n      const yearOfPreviousMonth = month === 0 ? year - 1 : year\n      const yearOfNextMonth = month === 11 ? year + 1 : year\n      const daysInPreviousMonth = getDaysInMonth(yearOfPreviousMonth, previousMonth)\n      let cells = days + before\n      let after = cells\n\n      while (after > 7) {\n        after -= 7\n      }\n\n      cells += 7 - after\n      let isWeekSelected = false\n      let i, r\n\n      for (i = 0, r = 0; i < cells; i++) {\n        const day = new Date(year, month, 1 + (i - before))\n        const isSelected = isDate(this._d) ? compareDates(day, this._d) : false\n        const isToday = compareDates(day, now)\n        const hasEvent = opts.events.indexOf(day.toDateString()) !== -1\n        const isEmpty = i < before || i >= days + before\n        let dayNumber = 1 + (i - before)\n        let monthNumber = month\n        let yearNumber = year\n        const isStartRange = opts.startRange && compareDates(opts.startRange, day)\n        const isEndRange = opts.endRange && compareDates(opts.endRange, day)\n        const isInRange = opts.startRange && opts.endRange && opts.startRange < day && day < opts.endRange\n        const isDisabled =\n          (opts.minDate && day < opts.minDate) ||\n          (opts.maxDate && day > opts.maxDate) ||\n          (opts.disableWeekends && isWeekend(day)) ||\n          (opts.disableDayFn && opts.disableDayFn(day))\n\n        if (isEmpty) {\n          if (i < before) {\n            dayNumber = daysInPreviousMonth + dayNumber\n            monthNumber = previousMonth\n            yearNumber = yearOfPreviousMonth\n          } else {\n            dayNumber = dayNumber - days\n            monthNumber = nextMonth\n            yearNumber = yearOfNextMonth\n          }\n        }\n\n        const dayConfig = {\n          day: dayNumber,\n          month: monthNumber,\n          year: yearNumber,\n          hasEvent: hasEvent,\n          isSelected: isSelected,\n          isToday: isToday,\n          isDisabled: isDisabled,\n          isEmpty: isEmpty,\n          isStartRange: isStartRange,\n          isEndRange: isEndRange,\n          isInRange: isInRange,\n          showDaysInNextAndPreviousMonths: opts.showDaysInNextAndPreviousMonths,\n          enableSelectionDaysInNextAndPreviousMonths: opts.enableSelectionDaysInNextAndPreviousMonths\n        }\n\n        if (opts.pickWholeWeek && isSelected) {\n          isWeekSelected = true\n        }\n\n        row.push(renderDay(dayConfig))\n\n        if (++r === 7) {\n          if (opts.showWeekNumber) {\n            row.unshift(renderWeek(i - before, month, year))\n          }\n          data.push(renderRow(row, opts.isRTL, opts.pickWholeWeek, isWeekSelected))\n          row = []\n          r = 0\n          isWeekSelected = false\n        }\n      }\n      return renderTable(opts, data, randId)\n    },\n\n    isVisible: function () {\n      return this._v\n    },\n\n    show: function () {\n      if (!this.isVisible()) {\n        this._v = true\n        this.draw()\n        removeClass(this.el, 'is-hidden')\n        if (this._o.bound) {\n          addEvent(document, 'click', this._onClick)\n          this.adjustPosition()\n        }\n        if (typeof this._o.onOpen === 'function') {\n          this._o.onOpen.call(this)\n        }\n      }\n    },\n\n    hide: function () {\n      const v = this._v\n      if (v !== false) {\n        if (this._o.bound) {\n          removeEvent(document, 'click', this._onClick)\n        }\n        this.el.style.position = 'static' // reset\n        this.el.style.left = 'auto'\n        this.el.style.top = 'auto'\n        addClass(this.el, 'is-hidden')\n        this._v = false\n        if (v !== undefined && typeof this._o.onClose === 'function') {\n          this._o.onClose.call(this)\n        }\n      }\n    },\n\n    destroy: function () {\n      this.hide()\n      removeEvent(this.el, 'mousedown', this._onMouseDown, true)\n      removeEvent(this.el, 'touchend', this._onMouseDown, true)\n      removeEvent(this.el, 'change', this._onChange)\n      if (this._o.field) {\n        removeEvent(this._o.field, 'change', this._onInputChange)\n        if (this._o.bound) {\n          removeEvent(this._o.trigger, 'click', this._onInputClick)\n          removeEvent(this._o.trigger, 'focus', this._onInputFocus)\n          removeEvent(this._o.trigger, 'blur', this._onInputBlur)\n        }\n      }\n      if (this.el.parentNode) {\n        this.el.parentNode.removeChild(this.el)\n      }\n    }\n  }\n  window.PlainPicker = PlainPicker\n})()\n"],"names":["document","window","addEvent","el","e","callback","capture","addEventListener","removeEvent","removeEventListener","trim","str","replace","hasClass","cn","className","indexOf","addClass","removeClass","isArray","test","Object","prototype","toString","call","obj","isDate","isNaN","getTime","zeroPadding","num","slice","isWeekend","day","date","getDay","prevAll","result","element","previousElementSibling","push","getClosest","selector","matchesSelector","matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","parentElement","isLeapYear","year","getDaysInMonth","month","setToStartOfDay","setHours","compareDates","a","b","extend","to","from","overwrite","prop","hasProp","undefined","nodeName","Date","fireEvent","eventName","data","ev","createEvent","initEvent","dispatchEvent","createEventObject","adjustCalendar","calendar","Math","ceil","abs","floor","defaults","renderDayName","opts","abbr","firstDay","i18n","weekdaysShort","weekdays","renderDay","arr","ariaSelected","isEmpty","showDaysInNextAndPreviousMonths","enableSelectionDaysInNextAndPreviousMonths","isDisabled","isToday","isSelected","hasEvent","isInRange","isStartRange","isEndRange","join","renderWeek","d","m","y","onejan","weekNum","renderRow","days","isRTL","pickWholeWeek","isRowSelected","reverse","renderBody","rows","renderHead","i","showWeekNumber","renderTitle","instance","c","refYear","randId","j","_o","isMinYear","minYear","isMaxYear","maxYear","html","prev","next","minMonth","maxMonth","months","monthHtml","yearRange","yearHtml","yearSuffix","showMonthAfterYear","previousMonth","numberOfMonths","nextMonth","renderTable","PlainPicker","options","self","config","defOptsMinDate","minDate","dateRangeArr","dateRangeSelectedArr","_onMouseDown","_v","event","target","srcElement","parentNode","bound","rangeSelect","selectedDate","getAttribute","setMinDate","length","forEach","setDate","hide","blurFieldOnSelect","field","blur","prevMonth","preventDefault","returnValue","_c","_onMouseOver","targetParentsTr","lastTargetPicker","parentDatePicker","tableOfFirst","children","trsOfFirstTable","getElementsByTagName","lastTrOfFirstTable","hoveredOtherTable","getElementsByClassName","node","inRange","querySelectorAll","nodeChildren","tdsPrevLastWeek","_onMouseLeave","_onChange","gotoMonth","value","gotoYear","_onKeyChange","captureKey","hasKey","stopEvent","stopPropagation","isVisible","keyCode","trigger","focus","_d","container","select","cancel","adjustDate","_onInputChange","firedBy","parse","format","show","_onInputFocus","_onInputClick","_onInputBlur","pEl","activeElement","_b","setTimeout","_onClick","createElement","theme","appendChild","body","insertBefore","nextSibling","defaultDate","setDefaultDate","defDate","gotoDate","disableWeekends","disableDayFn","nom","parseInt","maxDate","setMaxDate","fallback","getFullYear","preventOnSelect","draw","min","max","superArr","yyyy","mm","getMonth","dd","getDate","yyyymmdd","onSelect","newCalendar","calendars","firstVisibleDate","lastVisibleDate","visibleDate","setMonth","mainCalendar","adjustCalendars","sign","difference","newDay","valueOf","startRange","endRange","force","_y","_m","random","substr","positionStr","render","innerHTML","type","onDraw","setAttribute","style","position","width","offsetWidth","height","offsetHeight","viewportWidth","innerWidth","documentElement","clientWidth","viewportHeight","innerHeight","clientHeight","scrollTop","pageYOffset","left","top","getBoundingClientRect","clientRect","pageXOffset","bottom","offsetLeft","offsetTop","offsetParent","reposition","now","before","row","yearOfPreviousMonth","yearOfNextMonth","daysInPreviousMonth","cells","after","isWeekSelected","r","events","toDateString","dayNumber","monthNumber","yearNumber","dayConfig","unshift","adjustPosition","onOpen","v","onClose","removeChild"],"mappings":"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"}